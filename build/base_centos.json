{
    "variables": {
        "output_path": "./.output-vagrant-base"
    },
    "provisioners": [
        {
            "type": "ansible",
            "playbook_file": "../playbook-base-configureation.yml",
            "user": "vagrant",
            "inventory_directory": "../molecule/inventory"
        }
    ],
    "builders": [
        {
            "communicator": "ssh",
            "source_path": "centos/7",
            "provider": "virtualbox",
            "box_name": "base-basebox",
            "box_version": "1905.1",
            "add_force": true,
            "type": "vagrant",
            "output_dir": "{{user `output_path`}}/vagrant"
        }
    ],
    "post-processors": [
        {
            "type": "artifice",
            "files": [
                "{{user `output_path`}}/package.box"
            ]
        },
        {
            "type": "vagrant"
        },
        {
            "type": "compress",
            "output": "{{user `output_path`}}/archive.tar.gz"
        }
    ]
}
